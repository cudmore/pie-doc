
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Raspberry Pi Controlled Experiment (PiE)">
      
      
        <meta name="author" content="Robert H Cudmore">
      
      
      
        <link rel="prev" href="../wiring-behavior-box/">
      
      
        <link rel="next" href="../wiring-treadmill/">
      
      <link rel="icon" href="../img/icons/video-camera-blue.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.3">
    
    
      
        <title>Scope - PiE Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c4a75a56.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wiring-a-scope" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="PiE Docs" class="md-header__button md-logo" aria-label="PiE Docs" data-md-component="logo">
      
  <img src="../img/icons/video-camera-blue.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PiE Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Scope
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cudmore/pie" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    PiE Repository
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PiE Docs" class="md-nav__button md-logo" aria-label="PiE Docs" data-md-component="logo">
      
  <img src="../img/icons/video-camera-blue.png" alt="logo">

    </a>
    PiE Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cudmore/pie" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    PiE Repository
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Install
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Install
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install-buster/" class="md-nav__link">
        Preparing a Raspberry Pi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Install the PiE server
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../web-interface/" class="md-nav__link">
        Web Interface
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../commander/" class="md-nav__link">
        Commander
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../video-annotate/" class="md-nav__link">
        Video Annotate
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../parts/" class="md-nav__link">
        Parts
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Wiring
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Wiring
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wiring-behavior-box/" class="md-nav__link">
        Behavior Box
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Scope
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Scope
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#raspberry-pi-3-pin-out" class="md-nav__link">
    Raspberry Pi 3 pin out
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-test-the-pie-server-frame-pin-with-a-tactile-button-switch" class="md-nav__link">
    1) Test the PiE server 'frame' pin with a tactile-button-switch
  </a>
  
    <nav class="md-nav" aria-label="1) Test the PiE server 'frame' pin with a tactile-button-switch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-you-do-see-this" class="md-nav__link">
    If you do see this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-you-do-not-see-this" class="md-nav__link">
    If you do not see this
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-test-the-pie-server-trigger-in-pin-with-a-tactile-button-switch" class="md-nav__link">
    2) Test the PiE server 'trigger-in' pin with a tactile-button-switch
  </a>
  
    <nav class="md-nav" aria-label="2) Test the PiE server 'trigger-in' pin with a tactile-button-switch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-you-do-see-this_1" class="md-nav__link">
    If you do see this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-you-do-not-see-this_1" class="md-nav__link">
    If you do not see this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#once-your-trigger-in-pin-and-tactile-button-switch-are-working" class="md-nav__link">
    Once your trigger-in pin and tactile-button-switch are working
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-connecting-triggerin-triggerout-and-frame-pins-to-a-scope" class="md-nav__link">
    3) Connecting triggerIn, triggerOut, and frame pins to a scope.
  </a>
  
    <nav class="md-nav" aria-label="3) Connecting triggerIn, triggerOut, and frame pins to a scope.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raspberry-pi-as-the-master-scope-is-slave" class="md-nav__link">
    Raspberry Pi as the master (Scope is slave)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raspberry-pi-as-the-slave-scope-is-master" class="md-nav__link">
    Raspberry Pi as the slave (Scope is master)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wiring-diagram" class="md-nav__link">
    Wiring diagram
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wiring-treadmill/" class="md-nav__link">
        Treadmill
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../images/" class="md-nav__link">
        Images
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Extras
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Extras
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../file-server/" class="md-nav__link">
        File Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mount-usb-drive/" class="md-nav__link">
        Mount USB Drive
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rest-interface/" class="md-nav__link">
        Rest Interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trial-file/" class="md-nav__link">
        Trial File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gpio-timing/" class="md-nav__link">
        GPIO Timing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../implementation-details/" class="md-nav__link">
        Implementation details
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#raspberry-pi-3-pin-out" class="md-nav__link">
    Raspberry Pi 3 pin out
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-test-the-pie-server-frame-pin-with-a-tactile-button-switch" class="md-nav__link">
    1) Test the PiE server 'frame' pin with a tactile-button-switch
  </a>
  
    <nav class="md-nav" aria-label="1) Test the PiE server 'frame' pin with a tactile-button-switch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-you-do-see-this" class="md-nav__link">
    If you do see this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-you-do-not-see-this" class="md-nav__link">
    If you do not see this
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-test-the-pie-server-trigger-in-pin-with-a-tactile-button-switch" class="md-nav__link">
    2) Test the PiE server 'trigger-in' pin with a tactile-button-switch
  </a>
  
    <nav class="md-nav" aria-label="2) Test the PiE server 'trigger-in' pin with a tactile-button-switch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-you-do-see-this_1" class="md-nav__link">
    If you do see this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#if-you-do-not-see-this_1" class="md-nav__link">
    If you do not see this
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#once-your-trigger-in-pin-and-tactile-button-switch-are-working" class="md-nav__link">
    Once your trigger-in pin and tactile-button-switch are working
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-connecting-triggerin-triggerout-and-frame-pins-to-a-scope" class="md-nav__link">
    3) Connecting triggerIn, triggerOut, and frame pins to a scope.
  </a>
  
    <nav class="md-nav" aria-label="3) Connecting triggerIn, triggerOut, and frame pins to a scope.">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raspberry-pi-as-the-master-scope-is-slave" class="md-nav__link">
    Raspberry Pi as the master (Scope is slave)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raspberry-pi-as-the-slave-scope-is-master" class="md-nav__link">
    Raspberry Pi as the slave (Scope is master)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wiring-diagram" class="md-nav__link">
    Wiring diagram
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="wiring-a-scope">Wiring a scope</h1>
<p>This is a tutorial for wiring tactile-push-buttons to trigger a <code>frame</code> and a <code>trigger-in</code> in a PiE server.</p>
<p>This tutorial requires:</p>
<ul>
<li>A <a href="https://www.adafruit.com/product/64">breadboard</a>.</li>
<li>Some <a href="https://www.adafruit.com/?q=jumper%20wires">jumper wires</a>.</li>
<li>Two <a href="https://www.adafruit.com/product/367">tactile push buttons</a>.</li>
<li>A functioning Raspberry Pi.</li>
<li>A <a href="https://github.com/cudmore/pie">PiE server</a> to be installed.</li>
</ul>
<h3 id="raspberry-pi-3-pin-out">Raspberry Pi 3 pin out</h3>
<p>Here is a schematic of the Raspberry Pi 2/3 pin outs. Red is 5V, orange is 3.3V, yellow are GPIO, black are Ground, and white should not be used.</p>
<p><IMG SRC="../img/raspberry_pins.png"></p>
<p>Important: The Raspberry Pi GPIO pins are <strong>not</strong> 5V tolerant. Never connect a 5V line to a Raspberry GPIO pin.</p>
<h2 id="1-test-the-pie-server-frame-pin-with-a-tactile-button-switch">1) Test the PiE server 'frame' pin with a tactile-button-switch</h2>
<p>Here, we will wire a tactile-button-switch to the the Raspberry Pi 3.3V line and the PiE <code>frame</code> pin (GPIO 18) to test that pushing the button registers a <code>frame</code> in the PiE server. This button will normally sit at <code>LOW</code> and take on a '3.3V ' level when pushed.</p>
<ul>
<li>
<p>1) Wire the Raspberry Pi 3.3V pin to the '+' rail on a breadboard (red).</p>
</li>
<li>
<p>2) Insert a <a href="https://www.adafruit.com/product/367">Tactile-button-switch</a> on the breadboard.</p>
</li>
<li>
<p>3) Connect the <strong>top-left</strong> pin of the Tactile-button-switch to the '+' rail on the breadboard (red).</p>
</li>
<li>4) Connect the <strong>top-right</strong> pin of the Tactile-button-switch to the Raspberry Pi <code>GPIO 23</code>.</li>
<li>5) The remaining <strong>bottom-left</strong> and <strong>bottom-right</strong> pins on the tactile-button-switch should <strong>not</strong> be connected to anything.</li>
</ul>
<p>Make sure the PiE server is running with <code>./pie run</code> so we can see the output in the terminal.</p>
<pre><code>cd ~/pie
./pie stop # stop any background PiE servers
./pie run # run the PiE server on the command line
</code></pre>
<p>In the 'Pins' section, configure the triggerIn pin to Polarity 'rising' and Pull Up/Down to 'down'. Do the same for the 'frame' pin.</p>
<p><IMG SRC="../img/tutorial/pins_example.png"></p>
<p>Make sure 'Allow arming' is checked in the Configure section.</p>
<p>Push the <code>frame</code> tactile-button-switch and you should see see something like this on the command line:</p>
<pre><code>!!! received frame when not running
</code></pre>
<h3 id="if-you-do-see-this">If you do see this</h3>
<p>Good. Your <code>frame</code> pin is working.</p>
<h3 id="if-you-do-not-see-this">If you <strong>do not</strong> see this</h3>
<p><strong>STOP</strong> your <code>frame</code> pin is <strong>not</strong> working. Please check your wiring and try again.</p>
<h2 id="2-test-the-pie-server-trigger-in-pin-with-a-tactile-button-switch">2) Test the PiE server 'trigger-in' pin with a tactile-button-switch</h2>
<p>Here, we will wire a tactile-button-switch to the Raspberry Pi 3.3V line and the PiE 'triggerIn' pin (GPIO 23) to test that pushing the button starts a 'trial' in the PiE server. This push-button will normally sit at <code>LOW</code> and take on a '3.3V' level when pushed.</p>
<ul>
<li>
<p>1) Wire the Raspberry Pi 3.3V pin to the '+' rail on a breadboard (red).</p>
</li>
<li>
<p>2) Insert a <a href="https://www.adafruit.com/product/367">Tactile-button-switch</a> on the breadboard.</p>
</li>
<li>
<p>3) Connect the <strong>top-left</strong> pin of the Tactile-button-switch to the '+' rail on the breadboard (red).</p>
</li>
<li>4) Connect the <strong>top-right</strong> pin of the Tactile-button-switch to the Raspberry Pi <code>GPIO 24</code>.</li>
<li>5) The remaining <strong>bottom-left</strong> and <strong>bottom-right</strong> pins on the tactile-button-switch should <strong>not</strong> be connected to anything.</li>
</ul>
<p>Make sure the PiE server is running with <code>./pie run</code> so we can see the output in the terminal.</p>
<pre><code>cd ~/pie
./pie stop # stop any background PiE servers
./pie run # run the PiE server on the command line
</code></pre>
<p>Make sure 'Allow arming' is checked in the Configure section.</p>
<p>Push the <code>trigger-in</code> tactile-button-switch and you should see something like this on the command line:</p>
<pre><code>!!! received triggerIn_Callback() when camera is NOT armed
</code></pre>
<h3 id="if-you-do-see-this_1">If you do see this</h3>
<p>Good. Your <code>trigger-in</code> pin is working.</p>
<h3 id="if-you-do-not-see-this_1">If you <strong>do not</strong> see this</h3>
<p><strong>STOP</strong> your <code>trigger-in</code> pin is <strong>not</strong> working. Please check your wiring and try again.</p>
<h3 id="once-your-trigger-in-pin-and-tactile-button-switch-are-working">Once your trigger-in pin and tactile-button-switch are working</h3>
<p>Go into the web interface and <code>arm</code> the recording with the arm checkbox.</p>
<p>Push the <code>trigger-in</code> tactile-button-switch and video should start recording and you should see this in the command prompt:</p>
<pre><code>[2018-07-09 08:48:26,556] {bTrial.py startTrial:702} DEBUG - startTrial startArmVideo=True
[2018-07-09 08:48:26,559] {bTrial.py startTrial:721} INFO - triggerOut pin:15 value:True
</code></pre>
<p>Then, while the recording is still going, push the <code>frame</code> tactile-button-switch and you should see</p>
<pre><code>[2018-07-09 08:49:08,884] {bTrial.py eventIn_Callback:614} DEBUG - eventIn_Callback() frame 1
[2018-07-09 08:49:09,027] {bTrial.py eventIn_Callback:614} DEBUG - eventIn_Callback() frame 2
[2018-07-09 08:49:09,312] {bTrial.py eventIn_Callback:614} DEBUG - eventIn_Callback() frame 3
</code></pre>
<p>Once you done this for awhile, click the disk icon in the top tool-bar and view your videos and trial .txt files. Your videos should be watermarked with frame numbers and the .txt file should log the frame times. You will see two video files per trial, a before and after video. The after video is started when a trial is started, the before video is a 'pre-trigger' video whose length is set with 'Pre Trigger Buffer (sec)'. </p>
<h2 id="3-connecting-triggerin-triggerout-and-frame-pins-to-a-scope">3) Connecting triggerIn, triggerOut, and frame pins to a scope.</h2>
<p>Following the same logic, we can connect the Raspberry Pi <code>triggerIn</code> to the 'Scope Trigger Out', the Raspberry <code>triggerOut</code> to the 'scope Trigger In', and the Raspberry Pi <code>frame</code> in pin to the 'Scope Frame Out'. Keep in mind that the definition of 'in' versus 'out' is with respect to the device you are talking about.</p>
<p>Important: The Raspberry Pi GPIO pins are <strong>not</strong> 5V tolerant. Never connect a 5V line to a Raspberry GPIO pin. We use a level-shifter to convert high voltage 5V to 3V.</p>
<p>If your scope sends a rising <code>high</code> pulse for 'trigger out' and 'frame out' you can follow steps #1 and #2 above. If your scope sends a falling <code>low</code> pulse for either of these, you need to configure the 'pins' section of the web interface as polarity <code>falling</code> and Pull Up/Down as <code>up</code>.</p>
<h3 id="raspberry-pi-as-the-master-scope-is-slave">Raspberry Pi as the master (Scope is slave)</h3>
<p>To have the PiE server trigger your scope (Raspberry Pi is master), use the Raspberry <code>triggerOut</code> pin. In the web interface, if the 'Default Setting' for the <code>triggerOut</code> pin is set to 'false' then the PiE server will hold this pin <code>LOW</code> and send a 'positive' <code>HIGH</code> pulse when you click 'Start Trial'. The opposite is also true, if the 'Default Setting' for the <code>triggerOut</code> pin is set to 'true', the PiE server will hold this pin <code>HIGH</code> and send a <code>LOW</code> pulse when you click 'Start Trial'. You need to figure out what signal your scope is expecting for a trigger, it is either <code>HIGH</code> or <code>LOW</code>.</p>
<h3 id="raspberry-pi-as-the-slave-scope-is-master">Raspberry Pi as the slave (Scope is master)</h3>
<p>To have your scope trigger the PiE server (Scope is master), use the Raspberry <code>triggerIn</code> pin. In the web interface you 'arm' the Raspberry to 'wait for trigger' using the 'arm' checkbox.</p>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>If you run into trouble it is best to independently test each component of the system. In this case, you would use a volt-meter to test the signals coming off your scope are what you expect.</p>
<h3 id="wiring-diagram">Wiring diagram</h3>
<p><IMG SRC="../img/pie_scope.png"></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.efa0ade1.min.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
    
  </body>
</html>